// script by Dusan
// one of the sites this works on: https://online.seterra.com/hu/vgp/3306

// function to make a click (deprecated but couldn't find a better solution)
function eventFire(el, etype){
    if (el.fireEvent) {
      el.fireEvent('on' + etype);
    } else {
      var evObj = document.createEvent('Events');
      evObj.initEvent(etype, true, false);
      el.dispatchEvent(evObj);
    }
  }

// restart the task, so we can start from second 0
eventFire(document.getElementById("cmdRestart"), "click")

function main() {
    let current_country = document.getElementById("currQuestion").firstChild.textContent.replace(" | Kattints erre: ", "") // locate the current country that we have to find on the map
    let poss_countries = document.getElementsByClassName("q") // get the list of all possible countries
    for (let x = 0; x < poss_countries.length; x++) { // loop through all the countries in the list
        if (poss_countries[x].getAttribute("data-qText") == current_country) { // if you find a country that matches the country displayed at the top execute
            eventFire(poss_countries[x], 'click'); // trigger the evenFire function with click, so the element gets clicked.
        }
    }

}

setInterval(main, 3200) // change this number to change the delay in which the main function runs, meaning when the 
